{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block title %}Adventures â€” Nicola Beirer{% endblock %}

{% block content %}
<header class="mb-10">
  <p class="text-gray-500 text-sm mb-2">> ls ./adventures --sort=date</p>
  <h1 class="text-3xl font-bold text-terminal mb-4">{{ page.title }}</h1>
  {% if page.intro %}
  <div class="text-gray-400">{{ page.intro|richtext }}</div>
  {% endif %}
</header>

<div class="space-y-6">
  {% for adventure in adventure_posts %}
  <article class="border border-gray-800 rounded overflow-hidden hover:border-gray-700 transition-colors">
    {% if adventure.header_image %}
    <a href="{% pageurl adventure %}">
      {% image adventure.header_image width-800 height-300 as img %}
      <img src="{{ img.url }}" alt="{{ adventure.title }}" class="w-full h-48 object-cover">
    </a>
    {% endif %}

    <div class="p-6">
      <div class="flex items-center gap-3 mb-3">
        <span class="text-xs border border-terminal text-terminal px-2 py-0.5 rounded uppercase tracking-wider">
          {{ adventure.activity_type }}
        </span>
        <span class="text-gray-600 text-xs">{{ adventure.date }}</span>
      </div>

      <h2 class="text-lg font-bold text-gray-100 mb-2">
        <a href="{% pageurl adventure %}" class="hover:text-terminal transition-colors">{{ adventure.title }}</a>
      </h2>

      {% if adventure.intro %}
      <p class="text-gray-400 text-sm mb-4">{{ adventure.intro }}</p>
      {% endif %}

      <div class="flex flex-wrap gap-4 text-sm">
        {% if adventure.location %}
        <span class="text-gray-500"><span class="text-terminal">></span> {{ adventure.location }}</span>
        {% endif %}
        {% if adventure.distance_km %}
        <span class="text-gray-500"><span class="text-terminal">></span> {{ adventure.distance_km }} km</span>
        {% endif %}
        {% if adventure.elevation_gain_m %}
        <span class="text-gray-500"><span class="text-terminal">></span> +{{ adventure.elevation_gain_m }} m</span>
        {% endif %}
      </div>
    </div>
  </article>
  {% empty %}
  <p class="text-gray-500">No adventures logged yet.</p>
  {% endfor %}
</div>
{% endblock %}
